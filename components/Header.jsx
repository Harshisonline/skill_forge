"use client";
import "@styles/globals.css";
import Link from "next/link";
import Image from "next/image";
import { useState, useEffect } from "react";
import { signIn, signOut, useSession, getProviders } from "next-auth/react";
import ProfileButton from "./ProfileButton";
const Header = () => {
  const isUserLoggedIn = true;
  const [providers, setProviders] = useState(null);
  useEffect(() => {
    const setProviders = async () => {
      const response = await getProviders();
      setProviders(response);
    };
    setProviders();
  }, []);

  return (
    <div>
      <header style={{ display: "flex", flexDirection: "row" }}>
        {/* <Image src="./public/Logo.svg" alt="logo" width="100" height="100" /> */}
        <div>
          <svg
            className="logo"
            width="162"
            height="63"
            viewBox="0 0 162 63"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M0.321064 31.376V26.48H5.84106V27.44L9.05706 30.176V24.464L0.321064 19.472V8.72L1.80906 6.8H13.0891L14.9131 9.056V13.952H9.05706V12.224H5.84106V16.88L14.9131 21.68V31.376L7.04106 36.704L0.321064 31.376ZM22.4104 16.88L25.6264 14.96V6.8H31.4824V17.504L27.7384 19.568L31.4824 21.68V30.896L25.6264 35.168V24.464L22.4104 22.448V34.88L16.8904 31.376V6.8H22.4104V16.88ZM33.5078 6.8H39.3638V30.896L33.5078 35.168V6.8ZM33.5078 5.552V0.559996H39.3638V5.552H33.5078ZM46.8784 27.488L50.0944 30.224V24.896H55.9504V30.896L48.0304 36.704L41.3584 31.376V6.8H46.8784V27.488ZM63.4947 27.488L66.7107 30.224V24.896H72.5667V30.896L64.6467 36.704L57.9747 31.376V6.8H63.4947V27.488Z"
              fill="white"
            />
            <path
              d="M85.5286 35.792L80.0086 31.376V9.104L82.0726 6.8H92.4406L94.6006 8.96V15.68H88.7446V12.512H85.5286V17.216H88.6486V23.072H85.5286V35.792ZM109.01 6.8L111.17 8.96V30.896L103.25 36.704L96.5779 31.376V9.104L98.6419 6.8H109.01ZM102.098 12.512V27.488L105.314 30.224V12.512H102.098ZM125.915 6.8L127.739 9.056V17.504L123.995 19.568L127.739 21.68V31.376L121.883 35.168V24.464L118.667 22.448V35.36L113.147 31.376V8.72L114.635 6.8H125.915ZM118.667 12.224V16.88L121.883 14.96V12.224H118.667ZM138.453 25.712H136.389V20.576H144.309V30.896L136.389 36.704L129.717 31.376V9.104L131.781 6.8H142.149L144.309 8.96V15.68H138.453V12.512H135.237V27.488L138.453 30.224V25.712ZM151.806 23.072V27.488L155.022 30.224V24.896H160.878V30.896L152.958 36.704L146.286 31.376V9.104L148.35 6.8H158.718L160.878 8.96V15.68H155.022V12.512H151.806V17.216H154.926V23.072H151.806Z"
              fill="#F44336"
            />
          </svg>
        </div>
        <div
          style={{
            position: "fixed",
            right: "0",
            marginTop: "0.6vw",
            marginRight: "2vw",
          }}
        >
          {isUserLoggedIn ? (
            <ProfileButton />
          ) : (
            <>
              {providers &&
                Object.values(providers).map((provider) => (
                  <div>
                    <svg
                      width="122"
                      height="42"
                      viewBox="0 0 122 42"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                      onClick={() => signIn(provider.id)}
                    >
                      <rect
                        x="1"
                        y="1"
                        width="120"
                        height="40"
                        rx="20"
                        fill="#1E1E1E"
                        stroke="url(#paint0_linear_151_70)"
                        stroke-width="2"
                      />
                      <path
                        d="M28.7212 27.24C27.9478 27.24 27.1412 27.14 26.3012 26.94C25.4612 26.74 24.6678 26.4667 23.9212 26.12V24.22C24.8012 24.7 25.6145 25.0533 26.3612 25.28C27.1212 25.5067 27.8678 25.62 28.6012 25.62C29.5212 25.62 30.2345 25.4133 30.7412 25C31.2478 24.5867 31.5012 24.02 31.5012 23.3C31.5012 22.8067 31.3612 22.3933 31.0812 22.06C30.8012 21.7267 30.4478 21.46 30.0212 21.26C29.5945 21.06 29.0212 20.84 28.3012 20.6C27.4345 20.3067 26.7345 20.0267 26.2012 19.76C25.6812 19.4933 25.2345 19.1133 24.8612 18.62C24.4878 18.1267 24.3012 17.4867 24.3012 16.7C24.3012 15.5267 24.7278 14.5933 25.5812 13.9C26.4345 13.1933 27.5812 12.84 29.0212 12.84C30.4212 12.84 31.7078 13.14 32.8812 13.74V15.58C31.5612 14.8333 30.2745 14.46 29.0212 14.46C28.1012 14.46 27.3812 14.6467 26.8612 15.02C26.3412 15.38 26.0812 15.88 26.0812 16.52C26.0812 16.96 26.2145 17.3267 26.4812 17.62C26.7478 17.9133 27.0745 18.1533 27.4612 18.34C27.8478 18.5133 28.3945 18.7267 29.1012 18.98C29.9812 19.2733 30.7012 19.56 31.2612 19.84C31.8212 20.12 32.2945 20.5267 32.6812 21.06C33.0812 21.5933 33.2812 22.28 33.2812 23.12C33.2812 23.9467 33.0945 24.6733 32.7212 25.3C32.3478 25.9133 31.8145 26.3933 31.1212 26.74C30.4278 27.0733 29.6278 27.24 28.7212 27.24ZM37.7941 14.2C37.4208 14.2 37.1141 14.08 36.8741 13.84C36.6475 13.6 36.5341 13.2933 36.5341 12.92C36.5341 12.5467 36.6475 12.24 36.8741 12C37.1141 11.76 37.4208 11.64 37.7941 11.64C38.1675 11.64 38.4675 11.76 38.6941 12C38.9341 12.24 39.0541 12.5467 39.0541 12.92C39.0541 13.2933 38.9341 13.6 38.6941 13.84C38.4675 14.08 38.1675 14.2 37.7941 14.2ZM38.6741 16.56V27H36.9141V16.56H38.6741ZM51.5996 16.54L51.1596 18.86V26.32C51.1596 28.08 50.7529 29.4467 49.9396 30.42C49.1263 31.3933 47.9196 31.88 46.3196 31.88C45.4263 31.88 44.6929 31.7933 44.1196 31.62C43.5463 31.4467 42.9529 31.1 42.3396 30.58V28.8C42.9929 29.3467 43.6063 29.72 44.1796 29.92C44.7529 30.1333 45.4663 30.24 46.3196 30.24C47.3463 30.24 48.1129 29.9133 48.6196 29.26C49.1396 28.62 49.3996 27.72 49.3996 26.56V26.04C48.9596 26.3333 48.5129 26.5467 48.0596 26.68C47.6196 26.8 47.0929 26.86 46.4796 26.86C44.9729 26.86 43.8329 26.4067 43.0596 25.5C42.2996 24.5933 41.9196 23.32 41.9196 21.68C41.9196 19.9867 42.3196 18.6733 43.1196 17.74C43.9196 16.7933 45.1063 16.32 46.6796 16.32C47.2529 16.32 47.7463 16.38 48.1596 16.5C48.5863 16.6067 49.0996 16.7933 49.6996 17.06L49.8396 16.54H51.5996ZM46.4996 25.24C47.0863 25.24 47.5996 25.1667 48.0396 25.02C48.4796 24.8733 48.9329 24.64 49.3996 24.32V18.28C48.9729 18.1333 48.5663 18.0333 48.1796 17.98C47.8063 17.9133 47.3729 17.88 46.8796 17.88C45.8396 17.88 45.0663 18.2133 44.5596 18.88C44.0663 19.5467 43.8196 20.4733 43.8196 21.66C43.8196 24.0467 44.7129 25.24 46.4996 25.24ZM60.582 16.32C61.5686 16.32 62.3153 16.6267 62.822 17.24C63.3286 17.84 63.582 18.68 63.582 19.76V27H61.822V20C61.822 19.3333 61.682 18.82 61.402 18.46C61.122 18.0867 60.6953 17.9 60.122 17.9C59.4686 17.9 58.9153 18.0067 58.462 18.22C58.022 18.4333 57.5286 18.78 56.982 19.26V27H55.222V18.88L54.782 16.56H56.542L56.822 18.02C57.4486 17.42 58.0286 16.9867 58.562 16.72C59.1086 16.4533 59.782 16.32 60.582 16.32ZM79.2004 27.24C77.5204 27.24 76.2137 26.7067 75.2804 25.64C74.3604 24.56 73.9004 23.0933 73.9004 21.24V13.08H75.6604V21.18C75.6604 22.54 75.9604 23.62 76.5604 24.42C77.1737 25.2067 78.0537 25.6 79.2004 25.6C80.3471 25.6 81.2204 25.2067 81.8204 24.42C82.4337 23.62 82.7404 22.54 82.7404 21.18V13.08H84.5004V21.24C84.5004 23.0933 84.0337 24.56 83.1004 25.64C82.1804 26.7067 80.8804 27.24 79.2004 27.24ZM94.0059 16.32C94.9125 16.32 95.6859 16.56 96.3259 17.04C96.9659 17.52 97.4459 18.1733 97.7659 19C98.0992 19.8267 98.2659 20.76 98.2659 21.8C98.2659 22.84 98.0725 23.7733 97.6859 24.6C97.3125 25.4133 96.7659 26.0533 96.0459 26.52C95.3392 26.9867 94.4992 27.22 93.5259 27.22C93.0325 27.22 92.5725 27.1667 92.1459 27.06C91.7192 26.9533 91.2659 26.8 90.7859 26.6V31.64H89.0259V18.88L88.5859 16.56H90.3459L90.6059 17.9C91.5125 16.8467 92.6459 16.32 94.0059 16.32ZM93.3459 25.66C94.3059 25.66 95.0459 25.3 95.5659 24.58C96.0992 23.86 96.3659 22.9333 96.3659 21.8C96.3659 20.6667 96.1592 19.74 95.7459 19.02C95.3459 18.3 94.7125 17.94 93.8459 17.94C93.2325 17.94 92.6792 18.0667 92.1859 18.32C91.7059 18.5733 91.2392 18.9467 90.7859 19.44V25.26C91.6525 25.5267 92.5059 25.66 93.3459 25.66Z"
                        fill="white"
                      />
                      <defs>
                        <linearGradient
                          id="paint0_linear_151_70"
                          x1="0"
                          y1="21"
                          x2="122"
                          y2="21"
                          gradientUnits="userSpaceOnUse"
                        >
                          <stop offset="0.0415339" stop-color="#3600CE" />
                          <stop offset="0.301801" stop-color="#00C2CE" />
                          <stop offset="0.531189" stop-color="#10CE00" />
                          <stop offset="0.791456" stop-color="#CACE00" />
                          <stop offset="1" stop-color="#F90000" />
                        </linearGradient>
                      </defs>
                    </svg>
                  </div>
                ))}
            </>
          )}
        </div>
      </header>
    </div>
  );
};

export default Header;
